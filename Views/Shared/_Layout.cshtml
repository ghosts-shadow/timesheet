<!DOCTYPE html>
<html style="text-transform: capitalize">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/favicon.ico")
    <script src="https://kit.fontawesome.com/cfaa3617c9.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script>
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        document.onkeydown = function(e) {
            if (event.keyCode == 123) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.keyCode == 'P'.charCodeAt(0)) {
                $('.btn ').hide();
                $(':submit').hide();
                return true;
            } else {
                $('.btn ').show();
                $(':submit').show();
            }
            return true;
        }
    </script>
    <script>
        @{ /*
           setInterval(function() {
                $.ajax({
                    url: '@Url.Action("apnote1","Home")',
                    type: "POST",
                    success: function(result) {
                        $("#apnote_1").html(result);
                    }
                });
                if ($('#apnote_1').children().length > 0) {
                    $("#note1").html($('#apnote_1').children().length);
                    $('#note1').css('color', 'red');
                } else {
                    $('#note1').css('color', '#2c6faa');
                    $("#note1").html($('#apnote_1').children().length);
                }
            },
            10000);*/
           }
        function tt() {
            $('#dummy').css('color', 'red');
            var co = $('#note1').css('color');
            var co1 = $('#dummy').css('color');
            if (co == co1) {
                $('#apnote_1').toggle();
                var popup = document.getElementById("apnote_1");
                popup.classList.toggle("show");
            }
        }

        function got() {
            location.href = "@Url.Action("appsum", "Projman")";
        }
    </script>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin-top: -45px;
            font-size:13px
        }
        .navbar-inverse {
            border-color: #2c6faa
        }
        .navbar-inverse .navbar-nav > .open > a, .navbar-inverse .navbar-nav > .open > a:focus, .navbar-inverse .navbar-nav > .open > a:hover {
            color: #fff;
            background-color: #1f4b74;
        }
        .dropdown-menu > li > a:focus, .dropdown-menu > li > a:hover {
            color: #fff;
            text-decoration: none;
            background-color: #1f4b74;
        }
        th {
            background-color: #2f5168 !important
        }
        table th {
            position: sticky;
            top: 0px
        }
        .navbar-inverse .navbar-nav > li > a {
            color: #fff;
        }
        .navbar > .container .navbar-brand, .navbar > .container-fluid .navbar-brand {
            margin-left: -15px;
            color: #fff !important;
        }
            .navbar > .container .navbar-brand, .navbar > .container-fluid .navbar-brand:hover {
                color: #fff;
                background-color: #1f4b74;
            }
        .navbar-inverse .navbar-nav > li > a:focus, .navbar-inverse .navbar-nav > li > a:hover {
            color: #fff;
            background-color: #1f4b74;
        }
        .dropdown-menu > li > a {
            display: block;
            padding: 3px 20px;
            clear: both;
            font-weight: 400;
            line-height: 1.42857143;
            color: #fff !important;
            white-space: nowrap;
        }
        .logo-image {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            overflow: hidden;
            margin-top: -6px;
        }
        .img-fluid {
            max-width: 100%;
            height: auto;
        }
        .nav {
            display: block !important;
        }
        .container-fluid {
            display: block !important;
        }
        .navbar-nav .dropdown-menu {
            position: absolute !important
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-inverse" style="background-color: #2c6faa !important; color: #fff !important; position: relative; top: 100%">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="@Url.Action("index","Home")">
                    <div class="logo-image">
                        <img src="~/img/CITI SCAPE LOGO.png" class="img-fluid">
                    </div>
                </a>
                @Html.ActionLink("Time Sheet ", "Index", "Home", new { area = string.Empty }, new { @class = "navbar-brand" })
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    @if (User.Identity.IsAuthenticated)
                    {
                        <li class="dropdown">
                            @if (User.IsInRole("Admin"))
                            {
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">add users/Labors/holidays/in&out</a>
                                <ul class="dropdown-menu" style="background-color: #2c6faa; color: white">
                                    <li>@Html.ActionLink("add new user", "Register", "Account")</li>
                                    <li>@Html.ActionLink("add new labor", "Create", "LabourMasters")</li>
                                    <li>@Html.ActionLink("add new holiday", "Create", "Holidays")</li>
                                    <li>@Html.ActionLink("add in&out", "Create", "Manpowerinoutforms")</li>
                                    <li>@Html.ActionLink("add supplier to project", "Create", "promanlists")</li>
                                </ul>
                            }
                        </li>
                        <li class="dropdown">
                            @if (User.IsInRole("Admin"))
                            {
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">projects</a>
                                <ul class="dropdown-menu" style="background-color: #2c6faa; color: white">
                                    <li>@Html.ActionLink("project permissions", "project_permissions", "CSPermissions")</li>
                                    <li>@Html.ActionLink("project list", "Index", "ProjectLists")</li>
                                </ul>
                            }
                        </li>
                        <li class="dropdown">
                            @if (User.IsInRole("Admin") || User.IsInRole("Employee"))
                            {
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">search/Print/submit</a>
                                <ul class="dropdown-menu" style="background-color: #2c6faa; color: white">
                                    <li>@Html.ActionLink("search by month", "csearch", "Home")</li>
                                    <li>@Html.ActionLink("Print/Submit Timesheet", "download", "Home")</li>
                                    @if (User.IsInRole("Admin"))
                                    {
                                        <li>@Html.ActionLink("search by employee", "Asearch", "Home")</li>
                                    }
                                </ul>
                            }
                        </li>
                        <li class="dropdown">
                            @if (User.IsInRole("Project_manager") || User.IsInRole("Admin") || User.IsInRole("HR_manager"))
                            {
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">approvals</a>
                                <ul class="dropdown-menu" style="background-color: #2c6faa; color: white">
                                    <li>
                                        @Html.ActionLink("approve timesheet", "appsum", "Projman")
                                    </li>
                                    <li>
                                        @Html.ActionLink("approve overtime", "Index", "overtimerefs")
                                    </li>

                                </ul>
                            }
                        </li>
                        if (User.IsInRole("Project_manager") || User.IsInRole("Admin") || User.IsInRole("HR_manager"))
                        {
                            <li>@Html.ActionLink("summary", "Index", "summary")</li>
                            <li style="position: absolute; left: 77%; top: 10px; display: none">
                                <button class="fa fa-bell fa-2x" onclick="tt()" style="color: #2c6faa; background-color: #2c6faa; border: none" id="note1"></button>
                                <i style="color: #ff2323; width: 100px; height: 100px;" id="apnote_11" class="popup">
                                    <span id="apnote_1" onclick="got()" style="display: none" class="popuptext">
                                        test
                                    </span>
                                </i>
                            </li>

                        }
                        <li>@Html.ActionLink("transfer workers", "Index", "towrefs")</li>
                        if (User.IsInRole("Head_of_projects"))
                        {
                            <li>@Html.ActionLink("summary", "Index", "summary")</li>
                            <li>
                                @Html.ActionLink("approve overtime", "Index", "overtimerefs")
                            </li>
                        }
                        if (User.IsInRole("Admin") || User.IsInRole("Employee"))
                        {
                            <li>@Html.ActionLink("Add new Time-sheet", "MCreate", "Home")</li>
                        }
                        if (User.Identity.Name == "sdiniz" || User.Identity.Name == "sherif" || User.Identity.Name == "Hiba" || User.Identity.Name == "ameer" || User.Identity.Name == "amohamed" || User.Identity.Name == "yahya")
                        {
                            <li>@Html.ActionLink("timesheet submission ", "timesheetsub", "Projman")</li>
                        }

                        if (User.IsInRole("HR_assist"))
                        {
                            <li>@Html.ActionLink("assign projects", "Index", "asignprojects")</li>
                        }
                    }
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    @Html.Partial("_LoginPartial")
                </ul>
            </div>
        </div>
    </nav>
    <div class=" body-content" style="margin-left: 5%; margin-right: 5%; margin-bottom: 100px; margin-top: 3%">
        @RenderBody()
    </div>
    <footer style="bottom: 0; left: 0; position: fixed; text-align: center; background-color: #2c6faa; color: #fff; width: 100%; vertical-align: bottom">
        <p>&copy; @DateTime.Now.Year - Citiscape L.L.C</p>
    </footer>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", false)
</body>
</html>